<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.0</version>
    <date>2022-06-14T18:42:51Z</date>
    <groups>
        <group>
            <uuid>cc9ef25d8afe48c180a2b2474de9647c</uuid>
            <name>Devices/Storages</name>
        </group>
    </groups>
    <templates>
        <template>
            <uuid>08496d34f2244a87b94694bfd53f9de0</uuid>
            <template>Template - Dell Storage</template>
            <name>Template - Dell Storage</name>
            <description>Template para Storages Dell via SNMP

Modelo de Validacao: Storage Center

Por: Vinicius Goncalves</description>
            <templates>
                <template>
                    <name>Template - Dispositivo Generico SNMP</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Devices/Storages</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>756a243d91704a548a11c4bfd672fb0f</uuid>
                    <name>System - Versão do Firmware</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.7.0</snmp_oid>
                    <key>productIDBuildNumber</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1d</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <uuid>23d3e701e6e243f6a225a3619b254b5a</uuid>
                            <expression>last(/Template - Dell Storage/productIDBuildNumber,#1)&lt;&gt;last(/Template - Dell Storage/productIDBuildNumber,#2) and length(last(/Template - Dell Storage/productIDBuildNumber))&gt;0</expression>
                            <name>O firmware do equipamento foi alterado.</name>
                            <opdata>Current value: {ITEM.LASTVALUE1}</opdata>
                            <priority>INFO</priority>
                            <manual_close>YES</manual_close>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>3ddb48553a2c4ed5b437dd23e3a076cf</uuid>
                    <name>System - Serial Number do Equipamento</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.5.0</snmp_oid>
                    <key>productIDSerialNumber</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <inventory_link>SERIALNO_A</inventory_link>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1d</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <uuid>9f1c32d1aa804fc28f210bbd52d9c6cf</uuid>
                    <name>System - Modelo do Equipamento</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.13.1.7.1</snmp_oid>
                    <key>scCtlrModel</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <inventory_link>MODEL</inventory_link>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>1d</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                </item>
                <item>
                    <uuid>ccb2480df8aa4dc0ad0cd81db5f8d800</uuid>
                    <name>Sensor - Temperatura do Ambiente</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.19.1.5.1.6</snmp_oid>
                    <key>scCtlrTempCurrentC[Ambiente]</key>
                    <units>ºC</units>
                </item>
                <item>
                    <uuid>420a1499a0e44bc29781035c46f5d3e5</uuid>
                    <name>Sensor - Temperatura da CPU #1</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.19.1.5.1.5</snmp_oid>
                    <key>scCtlrTempCurrentC[CPU1]</key>
                    <units>ºC</units>
                </item>
                <item>
                    <uuid>648ac05284014990a30d91f5b4f6fdc3</uuid>
                    <name>Sensor - Temperatura da CPU #2</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.19.1.5.2.5</snmp_oid>
                    <key>scCtlrTempCurrentC[CPU2]</key>
                    <units>ºC</units>
                </item>
                <item>
                    <uuid>0a7af6f164d34a46ae46c85b93dc49d9</uuid>
                    <name>Sensor - Status do Ambiente</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.19.1.3.1.6</snmp_oid>
                    <key>scCtlrTempStatus[Ambiente]</key>
                    <valuemap>
                        <name>StorageCenter::ScStatus</name>
                    </valuemap>
                </item>
                <item>
                    <uuid>360ce72368e4404fb287ce96c3242d16</uuid>
                    <name>Sensor - Status da CPU #1</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.19.1.3.1.5</snmp_oid>
                    <key>scCtlrTempStatus[CPU1]</key>
                    <valuemap>
                        <name>StorageCenter::ScStatus</name>
                    </valuemap>
                </item>
                <item>
                    <uuid>c9a6466a1cc64df2948c904757c41c2e</uuid>
                    <name>Sensor - Status da CPU #2</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.19.1.3.2.5</snmp_oid>
                    <key>scCtlrTempStatus[CPU2]</key>
                    <valuemap>
                        <name>StorageCenter::ScStatus</name>
                    </valuemap>
                </item>
                <item>
                    <uuid>ade9853492b2457e8d643f62a15e0a55</uuid>
                    <name>Status - Saúde do Sistema</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.16139.2.29.1.3.1</snmp_oid>
                    <key>scScStatus</key>
                    <history>2w</history>
                    <trends>0</trends>
                    <valuemap>
                        <name>StorageCenter::ScStatus</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <uuid>db43e0593dd0404dbc09b000abf9c5fd</uuid>
                            <expression>count(/Template - Dell Storage/scScStatus,#1,&quot;eq&quot;,&quot;{$HEALTH_DEGRADED_STATUS}&quot;)=1</expression>
                            <name>O status da storage está DEGRADED</name>
                            <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                            <priority>AVERAGE</priority>
                            <dependencies>
                                <dependency>
                                    <name>O status da storage está DOWN</name>
                                    <expression>count(/Template - Dell Storage/scScStatus,#1,&quot;eq&quot;,&quot;{$HEALTH_DOWN_STATUS}&quot;)=1</expression>
                                </dependency>
                            </dependencies>
                        </trigger>
                        <trigger>
                            <uuid>dffb35f855184d3eae05d583b70c4fa7</uuid>
                            <expression>count(/Template - Dell Storage/scScStatus,#1,&quot;eq&quot;,&quot;{$HEALTH_DOWN_STATUS}&quot;)=1</expression>
                            <name>O status da storage está DOWN</name>
                            <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <uuid>d95379279f114a7693752a5ae20610a0</uuid>
                    <name>Descoberta de FAN</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.674.11000.2000.500.1.2.16.1.4]</snmp_oid>
                    <key>scCtlrFanName</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>c512968f03f64b16b6106f254a4de62b</uuid>
                            <name>FAN - {#SNMPVALUE}: Velocidade</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.16.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>scCtlrFanCurrentRpm[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <units>RPM</units>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>e6c2fb7226084891b19e76e72b0eab7b</uuid>
                                    <expression>count(/Template - Dell Storage/scCtlrFanCurrentRpm[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_WARN_STATUS:\&quot;Degraded\&quot;}&quot;)=1</expression>
                                    <name>{#SNMPVALUE}: Fan está com status DEGRADED</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{#SNMPVALUE}: Fan está com status DOWN</name>
                                            <expression>count(/Template - Dell Storage/scCtlrFanCurrentRpm[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_CRIT_STATUS:\&quot;Down\&quot;}&quot;)=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>bdd5e3b9d8f242de86f0a21b0a25bed3</uuid>
                                    <expression>count(/Template - Dell Storage/scCtlrFanCurrentRpm[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$FAN_CRIT_STATUS:\&quot;Down\&quot;}&quot;)=1</expression>
                                    <name>{#SNMPVALUE}: Fan está com status DOWN</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>e640924cda37497dabffd166be71f524</uuid>
                            <name>FAN - {#SNMPVALUE}: Status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.16.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>scCtlrFanStatus[{#SNMPINDEX}]</key>
                            <history>1w</history>
                            <valuemap>
                                <name>StorageCenter::ScStatus</name>
                            </valuemap>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>3f0df948bd274ede82a3d90a53e489be</uuid>
                    <name>Descoberta de Controladora</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.16139.2.13.1.4]</snmp_oid>
                    <key>scCtlrName</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>069f5b85e6d64880bb887c437eacfc24</uuid>
                            <name>Controller - {#SNMPVALUE}: Address da Controladora</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.13.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>scCtlrIpAddr[{#SNMPINDEX}]</key>
                            <delay>1d</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                        </item_prototype>
                        <item_prototype>
                            <uuid>c7e58c16c9c9406684ee4ecbccba8b4d</uuid>
                            <name>Controller - {#SNMPVALUE}: Status da Controladora</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.16139.2.13.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>scCtlrStatus[{#SNMPINDEX}]</key>
                            <history>1w</history>
                            <trends>0</trends>
                            <valuemap>
                                <name>StorageCenter::ScStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>5d6c6977fc1c4836b5ecdb6167f174aa</uuid>
                                    <expression>count(/Template - Dell Storage/scCtlrStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$CONTROLLER_WARN_STATUS}&quot;)=1</expression>
                                    <name>Controller - {#SNMPVALUE}: Controladora está com status DEGRADED</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>AVERAGE</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>Controller - {#SNMPVALUE}: Controladora está com status DOWN</name>
                                            <expression>count(/Template - Dell Storage/scCtlrStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$CONTROLLER_CRIT_STATUS}&quot;)=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>e4eaac43a9ee46d48b0650206b8b826e</uuid>
                                    <expression>count(/Template - Dell Storage/scCtlrStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$CONTROLLER_CRIT_STATUS}&quot;)=1</expression>
                                    <name>Controller - {#SNMPVALUE}: Controladora está com status DOWN</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>6d276f10212f44cebab5b878643d3973</uuid>
                    <name>Descoberta de Fonte de Energia (PSU)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.674.11000.2000.500.1.2.17.1.4]</snmp_oid>
                    <key>scCtlrPowerName</key>
                    <delay>1h</delay>
                    <lifetime>1w</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>e93b8a24b4c64a739546f1509386465c</uuid>
                            <name>PSU - {#SNMPVALUE}: Status da Fonte</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.17.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>scCtlrPowerStatus[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <valuemap>
                                <name>StorageCenter::ScStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>80225d26b36748f3b210b766eba8c9b5</uuid>
                                    <expression>count(/Template - Dell Storage/scCtlrPowerStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_CRIT_STATUS:\&quot;Degraded\&quot;}&quot;)=1</expression>
                                    <name>{#SNMPVALUE}: Power Supply está com status DEGRADED</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>AVERAGE</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{#SNMPVALUE}: Power Supply está com status DOWN</name>
                                            <expression>count(/Template - Dell Storage/scCtlrPowerStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_CRIT_STATUS:\&quot;Down\&quot;}&quot;)=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>1ac4cfee11e545548f1c68eacef3372b</uuid>
                                    <expression>count(/Template - Dell Storage/scCtlrPowerStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$PSU_CRIT_STATUS:\&quot;Down\&quot;}&quot;)=1</expression>
                                    <name>{#SNMPVALUE}: Power Supply está com status DOWN</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>9635e2b307734360b51836e4efd23796</uuid>
                    <name>Descoberta de Disco Físico</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.674.11000.2000.500.1.2.14.1.4]</snmp_oid>
                    <key>scDiskNamePosition</key>
                    <delay>1h</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>25a64b7bfaf24ab8ae0f2e4d1082a697</uuid>
                            <name>Disk - {#SNMPVALUE}: Modelo do Disco</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.45.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>scDiskConfigModel[{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                        </item_prototype>
                        <item_prototype>
                            <uuid>0f42dead79ca48799decc822775a1be6</uuid>
                            <name>Disk - {#SNMPVALUE}: Serial Number do Disco</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.45.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>scDiskConfigSerial[{#SNMPINDEX}]</key>
                            <delay>1d</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>74b2aa10da12421681c3e73b46485b4a</uuid>
                                    <expression>last(/Template - Dell Storage/scDiskConfigSerial[{#SNMPINDEX}],#1)&lt;&gt;last(/Template - Dell Storage/scDiskConfigSerial[{#SNMPINDEX}],#2) and length(last(/Template - Dell Storage/scDiskConfigSerial[{#SNMPINDEX}]))&gt;0</expression>
                                    <name>Disk - {#SNMPVALUE}: O disco foi substituído (Novo Serial Number)</name>
                                    <priority>INFO</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>800ce81c284047d38f2d1fcd28e88ff6</uuid>
                            <name>Disk - {#SNMPVALUE}: Saúde do Disco</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.14.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>scDiskHealthy[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <valuemap>
                                <name>StorageCenter::ScHealthy</name>
                            </valuemap>
                        </item_prototype>
                        <item_prototype>
                            <uuid>6d92b190af4a4c1a86d95cacdb581f7e</uuid>
                            <name>Disk - {#SNMPVALUE}: Tipo da Disco IO</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.14.1.10.{#SNMPINDEX}</snmp_oid>
                            <key>scDiskIoPortType[{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <valuemap>
                                <name>StorageCenter:: ScDiskIoPortType</name>
                            </valuemap>
                        </item_prototype>
                        <item_prototype>
                            <uuid>a7c51e274fe94eb7913e7724eb10d19a</uuid>
                            <name>Disk - {#SNMPVALUE}: Volume do Disco</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.14.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>scDiskSize[{#SNMPINDEX}]</key>
                            <delay>1h</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <units>B</units>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <parameters>
                                        <parameter>1048576</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                        </item_prototype>
                        <item_prototype>
                            <uuid>55c6260003264bf8874d8762f53b27ae</uuid>
                            <name>Disk - {#SNMPVALUE}: Status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.674.11000.2000.500.1.2.14.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>scDiskStatus[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>1w</history>
                            <trends>0</trends>
                            <valuemap>
                                <name>StorageCenter::ScStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>fadb97f890c34df5a8b1fccc4a1d6a9b</uuid>
                                    <expression>count(/Template - Dell Storage/scDiskStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$DISK_WARN_STATUS:\&quot;Degraded\&quot;}&quot;)=1</expression>
                                    <name>Disk - {#SNMPVALUE}: Disco Físico está com status DEGRADED</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>Disk - {#SNMPVALUE}: Disco Físico está com status DOWN</name>
                                            <expression>count(/Template - Dell Storage/scDiskStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$DISK_CRIT_STATUS:\&quot;Down\&quot;}&quot;)=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>f886907914ef48ccb6ff655d509d32d6</uuid>
                                    <expression>count(/Template - Dell Storage/scDiskStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$DISK_CRIT_STATUS:\&quot;Down\&quot;}&quot;)=1</expression>
                                    <name>Disk - {#SNMPVALUE}: Disco Físico está com status DOWN</name>
                                    <opdata>Current status: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>e2e6025be5c648669beee96f3199903f</uuid>
                    <name>Descoberta de Datastore</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.16139.2.26.1.4]</snmp_oid>
                    <key>scVolumeName</key>
                    <delay>1h</delay>
                    <lifetime>1w</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>194e4368f68d4f30b2523c5fe53dd94f</uuid>
                            <name>Datastore - {#SNMPVALUE}: Saúde do Volume</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.16139.2.26.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>scVolumeStatus[{#SNMPINDEX}]</key>
                            <history>1w</history>
                            <trends>0</trends>
                            <valuemap>
                                <name>StorageCenter::ScStatus</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>745dfa7cf7a24b1aa07104601538f054</uuid>
                                    <expression>count(/Template - Dell Storage/scVolumeStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$DATASTORE_WARN_STATUS}&quot;)=1</expression>
                                    <name>Volume {#SNMPVALUE}: O volume está com status DEGRADED</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>AVERAGE</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>Volume {#SNMPVALUE}: O volume está com status DOWN</name>
                                            <expression>count(/Template - Dell Storage/scVolumeStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$DATASTORE_CRIT_STATUS}&quot;)=1</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>adad9f3b64b845bfb054f0cbdd40d555</uuid>
                                    <expression>count(/Template - Dell Storage/scVolumeStatus[{#SNMPINDEX}],#1,&quot;eq&quot;,&quot;{$DATASTORE_CRIT_STATUS}&quot;)=1</expression>
                                    <name>Volume {#SNMPVALUE}: O volume está com status DOWN</name>
                                    <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <tags>
                <tag>
                    <tag>Tag</tag>
                    <value>Dell</value>
                </tag>
            </tags>
            <macros>
                <macro>
                    <macro>{$CONTROLLER_CRIT_STATUS}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$CONTROLLER_WARN_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$DATASTORE_CRIT_STATUS}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$DATASTORE_WARN_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$DISK_CRIT_STATUS:&quot;Down&quot;}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$DISK_WARN_STATUS:&quot;Degraded&quot;}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$FAN_CRIT_STATUS:&quot;Degraded&quot;}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$FAN_CRIT_STATUS:&quot;Down&quot;}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$HEALTH_DEGREDED_STATUS}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$HEALTH_DOWN_STATUS}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$HEALTH_UP_STATUS}</macro>
                    <value>1</value>
                </macro>
                <macro>
                    <macro>{$ICMP_LOSS_WARN}</macro>
                    <value>20</value>
                </macro>
                <macro>
                    <macro>{$ICMP_RESPONSE_TIME_WARN}</macro>
                    <value>0.15</value>
                </macro>
                <macro>
                    <macro>{$PSU_CRIT_STATUS:&quot;Degraded&quot;}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$PSU_CRIT_STATUS:&quot;Down&quot;}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$SNMP.TIMEOUT}</macro>
                    <value>5m</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT}</macro>
                    <value>60</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT:&quot;Ambient&quot;}</macro>
                    <value>35</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT:&quot;CPU&quot;}</macro>
                    <value>75</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT_LOW}</macro>
                    <value>5</value>
                </macro>
                <macro>
                    <macro>{$TEMP_CRIT_STATUS}</macro>
                    <value>5</value>
                </macro>
                <macro>
                    <macro>{$TEMP_DISASTER_STATUS}</macro>
                    <value>6</value>
                </macro>
                <macro>
                    <macro>{$TEMP_WARN}</macro>
                    <value>50</value>
                </macro>
                <macro>
                    <macro>{$TEMP_WARN:&quot;Ambient&quot;}</macro>
                    <value>30</value>
                </macro>
                <macro>
                    <macro>{$TEMP_WARN:&quot;CPU&quot;}</macro>
                    <value>70</value>
                </macro>
                <macro>
                    <macro>{$TEMP_WARN_STATUS}</macro>
                    <value>4</value>
                </macro>
                <macro>
                    <macro>{$VDISK_CRIT_STATUS:&quot;failed&quot;}</macro>
                    <value>3</value>
                </macro>
                <macro>
                    <macro>{$VDISK_WARN_STATUS:&quot;degraded&quot;}</macro>
                    <value>4</value>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>7759f136422741d8b3a59037ae497d26</uuid>
                    <name>SNMP::HostAvailable</name>
                    <mappings>
                        <mapping>
                            <value>0</value>
                            <newvalue>Not Available</newvalue>
                        </mapping>
                        <mapping>
                            <value>1</value>
                            <newvalue>Available</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>Unknown</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>af12cdc9dc2547d88fcae8d707cd572e</uuid>
                    <name>SNMP::ServiceState</name>
                    <mappings>
                        <mapping>
                            <value>0</value>
                            <newvalue>Down</newvalue>
                        </mapping>
                        <mapping>
                            <value>1</value>
                            <newvalue>Up</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>eadd95795da0431d8e7f0a3f0f57cfa6</uuid>
                    <name>StorageCenter:: ScDiskIoPortType</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>FibreChannel</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>iSCSI</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>FibreChannelOverEthernet</newvalue>
                        </mapping>
                        <mapping>
                            <value>4</value>
                            <newvalue>SAS</newvalue>
                        </mapping>
                        <mapping>
                            <value>5</value>
                            <newvalue>Unknown</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>b9d283b651524324a0867ddabdaf6b76</uuid>
                    <name>StorageCenter::ScHealthy</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>OK</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>Failed</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>0ade721867b141f7ab61463e920be3fd</uuid>
                    <name>StorageCenter::ScStatus</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Up</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>Down</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>Degraded</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
    <triggers>
        <trigger>
            <uuid>d29fec1534044c7695824344054413b4</uuid>
            <expression>avg(/Template - Dell Storage/scCtlrTempCurrentC[CPU1],5m)&gt;{$TEMP_CRIT:&quot;CPU&quot;}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU1])={$TEMP_CRIT_STATUS}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU1])={$TEMP_DISASTER_STATUS}</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>max(/Template - Dell Storage/scCtlrTempCurrentC[CPU1],5m)&lt;&quot;{$TEMP_CRIT:\&quot;CPU\&quot;}-3&quot;</recovery_expression>
            <name>CPU#1 - Temperatura está acima do nível crítico (&gt;{$TEMP_CRIT:&quot;CPU&quot;}ºC)</name>
            <priority>HIGH</priority>
        </trigger>
        <trigger>
            <uuid>1fe1a6a4807d4a7c9faa23b6929331c5</uuid>
            <expression>avg(/Template - Dell Storage/scCtlrTempCurrentC[CPU1],5m)&gt;{$TEMP_WARN:&quot;CPU&quot;}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU1])={$TEMP_WARN_STATUS}</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>max(/Template - Dell Storage/scCtlrTempCurrentC[CPU1],5m)&lt;&quot;{$TEMP_WARN:\&quot;CPU\&quot;}-3&quot;</recovery_expression>
            <name>CPU#1 - Temperatura está acima do nível de alerta (&gt;{$TEMP_WARN:&quot;CPU&quot;}ºC)</name>
            <priority>WARNING</priority>
            <dependencies>
                <dependency>
                    <name>CPU#1 - Temperatura está acima do nível crítico (&gt;{$TEMP_CRIT:&quot;CPU&quot;}ºC)</name>
                    <expression>avg(/Template - Dell Storage/scCtlrTempCurrentC[CPU1],5m)&gt;{$TEMP_CRIT:&quot;CPU&quot;}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU1])={$TEMP_CRIT_STATUS}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU1])={$TEMP_DISASTER_STATUS}</expression>
                    <recovery_expression>max(/Template - Dell Storage/scCtlrTempCurrentC[CPU1],5m)&lt;&quot;{$TEMP_CRIT:\&quot;CPU\&quot;}-3&quot;</recovery_expression>
                </dependency>
            </dependencies>
        </trigger>
        <trigger>
            <uuid>683e4df2da314d7f8bb3058be457dbb2</uuid>
            <expression>avg(/Template - Dell Storage/scCtlrTempCurrentC[CPU2],5m)&gt;{$TEMP_CRIT:&quot;CPU&quot;}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU2])={$TEMP_CRIT_STATUS}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU2])={$TEMP_DISASTER_STATUS}</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>max(/Template - Dell Storage/scCtlrTempCurrentC[CPU2],5m)&lt;&quot;{$TEMP_CRIT:\&quot;CPU\&quot;}-3&quot;</recovery_expression>
            <name>CPU#2 - Temperatura está acima do nível crítico (&gt;{$TEMP_CRIT:&quot;CPU&quot;}ºC)</name>
            <priority>HIGH</priority>
        </trigger>
        <trigger>
            <uuid>c20b131b93d648869d0572a09f45bedb</uuid>
            <expression>avg(/Template - Dell Storage/scCtlrTempCurrentC[CPU2],5m)&gt;{$TEMP_WARN:&quot;CPU&quot;}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU2])={$TEMP_WARN_STATUS}</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>max(/Template - Dell Storage/scCtlrTempCurrentC[CPU2],5m)&lt;&quot;{$TEMP_WARN:\&quot;CPU\&quot;}-3&quot;</recovery_expression>
            <name>CPU#2 - Temperatura está acima do nível de alerta (&gt;{$TEMP_WARN:&quot;CPU&quot;}ºC)</name>
            <priority>WARNING</priority>
            <dependencies>
                <dependency>
                    <name>CPU#2 - Temperatura está acima do nível crítico (&gt;{$TEMP_CRIT:&quot;CPU&quot;}ºC)</name>
                    <expression>avg(/Template - Dell Storage/scCtlrTempCurrentC[CPU2],5m)&gt;{$TEMP_CRIT:&quot;CPU&quot;}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU2])={$TEMP_CRIT_STATUS}
or
last(/Template - Dell Storage/scCtlrTempStatus[CPU2])={$TEMP_DISASTER_STATUS}</expression>
                    <recovery_expression>max(/Template - Dell Storage/scCtlrTempCurrentC[CPU2],5m)&lt;&quot;{$TEMP_CRIT:\&quot;CPU\&quot;}-3&quot;</recovery_expression>
                </dependency>
            </dependencies>
        </trigger>
    </triggers>
</zabbix_export>
